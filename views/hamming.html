<div class="view" id="v-hamming">
  <p class="mono" style="margin-bottom:0.4rem;">해밍 거리</p>
  <h2>XOR 연산과 유사도 측정</h2>
  <p class="desc">
    같은 길이의 두 이진 문자열에서 대응하는 위치의 값이 서로 다른 개수를 해밍 거리라 합니다.
    XOR 연산 결과에서 1의 개수를 세면 됩니다.
  </p>

  <div class="card">
    <h3>왜 해밍 거리를 배울까?</h3>
    <p>컴퓨터는 이미지, 텍스트, 소리 등 모든 데이터를 0과 1로 저장합니다.
      두 데이터가 얼마나 비슷한지를 판단하려면, 같은 위치에서 값이 다른 개수를 세면 됩니다.
      이것이 해밍 거리의 핵심 아이디어이며, 데이터 분류의 가장 기본적인 수학적 도구입니다.</p>
    <p style="margin-top:0.5rem;">해밍 거리는 통신 분야에서 오류 검출 및 정정에 사용되며,
      생물정보학에서 DNA 서열 비교, 정보 검색에서 유사 문서 탐색,
      그리고 QR 코드의 오류 복원 등 다양한 분야에서 활용됩니다.</p>
  </div>

  <div class="tabs">
    <button class="tab on" onclick="htab(0,this)">XOR 원리</button>
    <button class="tab" onclick="htab(1,this)">비트맵 실습</button>
  </div>

  <!-- TAB 0: XOR -->
  <div class="tpanel on" id="ht0">
    <div class="card">
      <h3>XOR 연산 진리표</h3>
      <p>두 비트가 서로 다를 때 1, 같을 때 0을 출력합니다.</p>
      <div class="math">0 ⊕ 0 = 0   (같음)
0 ⊕ 1 = 1   (다름)
1 ⊕ 0 = 1   (다름)
1 ⊕ 1 = 0   (같음)

해밍 거리 d(A,B) = Σ (Aᵢ ⊕ Bᵢ)</div>
    </div>

    <div class="card">
      <h3>직접 해보기 — 비트를 클릭하여 값을 바꿔보세요</h3>
      <p style="margin-bottom:0.8rem;">각 비트를 클릭하면 0과 1이 토글됩니다. XOR 결과와 해밍 거리가 실시간으로 계산됩니다.</p>
      <div id="hd-box" style="display:flex;flex-direction:column;gap:0.5rem;align-items:center;"></div>
      <div id="hd-res" class="status" style="text-align:center;font-size:0.85rem;font-weight:600;"></div>
    </div>

    <div class="info">
      <strong>대칭차집합과의 관계:</strong>
      XOR 연산은 대칭차집합 <span class="mi">(A∪B)−(A∩B)</span>과 동일한 결과를 보입니다.
      이 연산에 최소 2단계가 필요하므로, 다층 퍼셉트론에서 은닉층이 2개 이상 필요한 이유와 연결됩니다.
    </div>
  </div>

  <!-- TAB 1: BITMAP -->
  <div class="tpanel" id="ht1">
    <p class="desc" style="margin-bottom:1rem;">
      격자에 숫자를 직접 그려보세요. 클릭/드래그로 흑백을 토글합니다.
      참조 데이터(0~9)와의 해밍 거리를 계산하여 가장 유사한 숫자를 자동 분류합니다.
    </p>

    <div style="display:flex;gap:0.3rem;margin-bottom:1rem;">
      <button class="btn bsz active" onclick="setSz(6,this)">6×6</button>
      <button class="btn bsz" onclick="setSz(8,this)">8×8</button>
      <button class="btn bsz" onclick="setSz(12,this)">12×12</button>
    </div>

    <div style="display:flex;flex-wrap:wrap;gap:2rem;align-items:flex-start;">
      <div>
        <p class="mat-label">나만의 숫자 그리기</p>
        <div id="ubmp" class="bmp"></div>
        <div class="btn-row">
          <button class="btn" onclick="clrBmp()">초기화</button>
          <button class="btn pri" onclick="calcH()">해밍 거리 계산</button>
        </div>
        <p style="font-size:0.72rem;color:var(--muted);margin-top:0.3rem;">참조 숫자 미리보기</p>
        <div class="btn-row" id="rbtn"></div>
        <div id="refpreview" style="margin-top:0.5rem;"></div>
      </div>
      <div style="flex:1;min-width:14rem;">
        <p class="mat-label">분류 결과</p>
        <div id="hbars"><p style="font-size:0.8rem;color:var(--muted);">숫자를 그린 후 계산 버튼을 누르세요.</p></div>
        <div id="hbest" class="status" style="font-weight:600;"></div>
        <div id="hoverlap" style="margin-top:1rem;"></div>
      </div>
    </div>

    <div class="info" style="margin-top:1.5rem;">
      <strong>한계점:</strong> 해밍 거리는 위치 이동, 크기 변화, 획의 굵기 차이에 취약합니다.
      이를 개선하기 위해 전처리, 데이터 증강, 그리고 CNN 같은 딥러닝이 사용됩니다.
    </div>
  </div>
</div>
